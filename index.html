<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>医学图像相似度排序问卷</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <main>
    <section id="pre-survey" class="view-active">
      <h1>医学图像相似度排序问卷</h1>
      <p class="subtitle">请填写您的基本信息</p>

      <form id="pre-survey-form" novalidate>
        <div class="form-group">
          <label for="name">姓名 <span class="required">*</span></label>
          <input type="text" id="name" name="name" required placeholder="请输入姓名">
          <span class="error-msg" id="name-error"></span>
        </div>

        <div class="form-group">
          <label for="specialty">专业 <span class="required">*</span></label>
          <input type="text" id="specialty" name="specialty" required placeholder="请输入专业">
          <span class="error-msg" id="specialty-error"></span>
        </div>

        <fieldset class="form-group">
          <legend>职称 <span class="required">*</span></legend>
          <div class="radio-group">
            <label class="radio-label">
              <input type="radio" name="title" value="初级"> 初级
            </label>
            <label class="radio-label">
              <input type="radio" name="title" value="中级"> 中级
            </label>
            <label class="radio-label">
              <input type="radio" name="title" value="高级"> 高级
            </label>
          </div>
          <span class="error-msg" id="title-error"></span>
        </fieldset>

        <fieldset class="form-group">
          <legend>腹腔镜手术经验年限 <span class="required">*</span></legend>
          <div class="radio-group">
            <label class="radio-label">
              <input type="radio" name="experience" value="少于5年"> 少于5年
            </label>
            <label class="radio-label">
              <input type="radio" name="experience" value="5-10年"> 5-10年
            </label>
            <label class="radio-label">
              <input type="radio" name="experience" value="10-15年"> 10-15年
            </label>
            <label class="radio-label">
              <input type="radio" name="experience" value="15年以上"> 15年以上
            </label>
          </div>
          <span class="error-msg" id="experience-error"></span>
        </fieldset>

        <fieldset class="form-group">
          <legend>主刀腹腔镜手术例数 <span class="required">*</span></legend>
          <div class="radio-group">
            <label class="radio-label">
              <input type="radio" name="caseCount" value="少于20例"> 少于20例
            </label>
            <label class="radio-label">
              <input type="radio" name="caseCount" value="20-50例"> 20-50例
            </label>
            <label class="radio-label">
              <input type="radio" name="caseCount" value="50-100例"> 50-100例
            </label>
            <label class="radio-label">
              <input type="radio" name="caseCount" value="100例以上"> 100例以上
            </label>
          </div>
          <span class="error-msg" id="caseCount-error"></span>
        </fieldset>

        <div class="form-actions">
          <button type="submit" id="pre-survey-submit">开始问卷</button>
        </div>
        <div class="form-error-summary error-msg" id="form-error-summary" hidden></div>
      </form>
    </section>

    <section id="ranking-survey" class="view-hidden">
      <div class="progress" id="progress-text">第 1 题 / 共 10 题</div>

      <div class="query-section">
        <h2 class="section-label">查询图片</h2>
        <div id="query-image-container">
          <img id="query-image" src="" alt="查询图片">
        </div>
      </div>

      <div class="options-section">
        <h2 class="section-label">请按相似度从高到低排序（拖拽图片调整顺序）</h2>
        <div id="options-container" class="options-grid"></div>
      </div>

      <div class="nav-buttons">
        <button id="btn-prev" onclick="goToPrevious()">上一题</button>
        <button id="btn-next" onclick="goToNext()">下一题</button>
      </div>
    </section>

    <section id="completion" class="view-hidden">
      <div class="completion-content">
        <div class="completion-icon">✓</div>
        <h1>感谢您的参与</h1>
        <p class="completion-msg">问卷已提交成功，感谢您的参与！</p>
        <p class="completion-hint">您的排序结果已自动上传保存。</p>
      </div>
    </section>
  </main>

  <script src="app.js"></script>
</body>
</html>
